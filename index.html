<html>

  <head>
    <script type="text/javascript" src="bower_components/jquery/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.css"></link>
    <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.js"></script>

    <script type="text/javascript" src="bower_components/handlebars/handlebars.js"></script>
    <script type="text/javascript" src="bower_components/ember/ember.js"></script>

    <script type="text/javascript" src="app.js"></script>
  </head>


  <body>
    <script type="text/x-handlebars">
      <h1> Agenda </h1>
      {{#link-to 'people'}} Person {{/link-to}}
      {{outlet}}
    </script>

    <script type="text/x-handlebars" id="people">
      <div>
        <label>Nombre</label>
        {{ input name="name" value=name action="addPerson" }}

        <table class="table">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Frequency(hr/day)</th>
              <th>Hours</th>
            </tr>
          </thead>
          <tbody>
          {{#each }}
          <tr>
            <td>
              {{ id }}
            </td>
            <td>
              {{ name }}
            </td>
            <td>{{ totalHours }}</td>
            <td>0</td>
           </tr>
          {{else}}
          <tr><td colspan="4"> There's no people </td></tr>
          {{/each}}
          </tbody>
        </table>
      </div>

      {{#link-to 'calendar'}} Calendar {{/link-to}}
      {{ outlet }}
    </script>

    <script type="text/x-handlebars" id="calendar">
      <hr>
      <div>
        <label>Person</label>
        {{ view Ember.Select contentBinding="App.People"
                             optionLabelPath="content.name"
                             optionValuePath="content.id"
                             prompt="Pick a person"
                             selectionBinding="selectedPerson" }}
        <label>Hour</label>
        {{ view Ember.Select contentBinding="App.DaysOfWeeks"
                             prompt="Pick a day"
                             selectionBinding="dayOfWeekSelected" }}
        <label>Day</label>
        {{ view Ember.Select contentBinding="App.HoursForDay"
                             prompt="Pick a hour"
                             selectionBinding="hourForDaySelected" }}
        <button {{action "createAppointment"}}> Create appointment </button>
      </div>

      <hr>

      <table class="table table-condensed table-striped">
        <thead>
          <tr>
            <th>Hour</th>
            <th>Monday</th>
            <th>Thursday</th>
            <th>Wednesday</th>
            <th>Tuesday</th>
            <th>Friday</th>
            <th>Saturday</th>
            <th>Sunday</th>
          </tr>
        </thead>
        <tbody>
          {{ iterateOverHour }}
        </tbody>
      </table>
    </script>
  </body>

</html>
